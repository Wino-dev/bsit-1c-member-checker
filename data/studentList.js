// Contains the students list generated by the user
export let studentList = JSON.parse(localStorage.getItem('studentList')) || [];

// Saves the list inside localStorage
export function saveToStorage() {
  localStorage.setItem('studentList', JSON.stringify(studentList));
};

// Adds the student entered in the input box
export function addStudent() {
  const input = document.querySelector('.js-inputbox');
  
  // Prevents the code from running when the input has no contents
  if (input.value === '') {
    return;
  };

  // Initializes the duplicate name checker
  let isDuplicateName = false;

  // Sets isDuplicateName to true if the student already exists in the list
  studentList.forEach((student) => {
    if (student.name === input.value) {
      isDuplicateName = true;
    }
  });

  // Gives the user a pop-up if the name inputted already exists on the list
  if (isDuplicateName) {
    alert("Name already on the list.");
    return;
  }

  // Sets the id and the name of the student based on the items on the list
  // and the inputted name
  let id = studentList.length + 1;
  const name = input.value;
  
  // Places the student inside the studentsList
  // Always run renderStudentChecklist and saveToStorage after this function
  studentList.push({
    id: id,
    name: name,
    isChecked: false    
  });

  input.value = '';
}

// Reassigns the ids of each student when an item on the list is removed.
// Always run saveToStorage when using this function
export function reassignId() {
  let id = 1;
  studentList.forEach((student) => {
    student.id = id;
    id++;
  });
}





